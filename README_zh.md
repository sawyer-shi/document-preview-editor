# æ–‡æ¡£é¢„è§ˆç¼–è¾‘å™¨

ä¸€ä¸ªå¼ºå¤§çš„å¤šæ ¼å¼æ–‡æ¡£é¢„è§ˆå’Œç¼–è¾‘å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡æ–‡æœ¬ä¿®æ”¹å’Œä¸€é”®å¤„ç†ã€‚æ”¯æŒä¿®æ”¹å‰åçš„æ–‡æ¡£å¯¹æ¯”ï¼Œæ”¯æŒå¯¹ä¿®æ”¹åçš„æ–‡ä»¶ä¸‹è½½å¹¶ä¸”æ ¼å¼ä¿æŒä¸å˜ã€‚

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Python](https://img.shields.io/badge/Python-3.7+-green.svg)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Flask-2.3.3-red.svg)](https://flask.palletsprojects.com/)

## âœ¨ ç‰¹æ€§

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- ğŸ‡¨ğŸ‡³ å®Œæ•´çš„ä¸­æ–‡ç•Œé¢æ”¯æŒ
- ğŸ‡ºğŸ‡¸ å…¨è‹±æ–‡ç•Œé¢æ”¯æŒ
- ğŸ”„ åŠ¨æ€è¯­è¨€åˆ‡æ¢

### ğŸ“„ æ–‡æ¡£æ ¼å¼æ”¯æŒ
- ğŸ“ **DOCX** - Microsoft Word 2007+ æ–‡æ¡£
- ğŸ“„ **TXT** - çº¯æ–‡æœ¬æ–‡ä»¶ (UTF-8, GBK, GB2312)
- ğŸ”„ ç»Ÿä¸€è¾“å‡ºä¸ºDOCXæ ¼å¼

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- ğŸ“¤ **æ–‡æ¡£ä¸Šä¼ é¢„è§ˆ** - æ”¯æŒæ‹–æ‹½ä¸Šä¼ 
- âœï¸ **æ‰¹é‡æ–‡æœ¬ä¿®æ”¹** - æ™ºèƒ½æ–‡æœ¬æ›¿æ¢
- ğŸ” **æ™ºèƒ½æ–‡æœ¬åŒ¹é…** - ç²¾ç¡®å®šä½ä¿®æ”¹å†…å®¹
- ğŸ“Š **å®æ—¶é¢„è§ˆ** - å®æ—¶æ˜¾ç¤ºæ–‡æ¡£ä¿®æ”¹æ•ˆæœ
- ğŸ“Š **ä¿®æ”¹å‰åæ–‡æ¡£å¯¹æ¯”** - æ”¯æŒä¿®æ”¹å‰åçš„æ–‡æ¡£å¯¹æ¯”
- ğŸ“¥ **ä¸€é”®ä¸‹è½½å¤„ç†åæ–‡æ¡£** - å³æ—¶ç”Ÿæˆç»“æœ
- ğŸ“¥ **ä¸‹è½½ä¿®æ”¹åæ–‡æ¡£** - æ”¯æŒä¸‹è½½ä¿®æ”¹åçš„æ–‡æ¡£ï¼Œå¹¶ä¸”æ–‡æœ¬æ ¼å¼å’ŒåŸæ–‡æ¡£ä¿æŒä¸å˜
- ğŸŒ **RESTful APIæ”¯æŒ** - å®Œæ•´APIæ¥å£
- ğŸ³ **Dockerå®¹å™¨åŒ–éƒ¨ç½²** - ä¸€é”®éƒ¨ç½²

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ¯ ç›´è§‚çš„æ‹–æ‹½ä¸Šä¼ ç•Œé¢
- âš¡ å®æ—¶å¤„ç†è¿›åº¦æ˜¾ç¤º
- ğŸ”— æ”¯æŒAPIç›´æ¥è·³è½¬è®¿é—®

## ğŸš€ å››ç§å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šæºç å®‰è£…è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyer-shi/document-preview-editor.git
cd document-preview-editor

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œé¡¹ç›®
python run.py
```

### æ–¹å¼äºŒï¼šPythonè™šæ‹Ÿç¯å¢ƒå®‰è£…è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyer-shi/document-preview-editor.git
cd document-preview-editor

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/macOS:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œé¡¹ç›®
python run.py
```

### æ–¹å¼ä¸‰ï¼šCondaç¯å¢ƒå®‰è£…è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyer-shi/document-preview-editor.git
cd document-preview-editor

# åˆ›å»ºcondaç¯å¢ƒ
conda create -n document-editor python=3.9
conda activate document-editor

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œé¡¹ç›®
python run.py
```

### æ–¹å¼å››ï¼šDockerå®¹å™¨å®‰è£…è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyer-shi/document-preview-editor.git
cd document-preview-editor

# ä½¿ç”¨Docker Composeè¿è¡Œ
docker-compose up -d

# æˆ–è€…è‡ªå®šä¹‰ç«¯å£è¿è¡Œ
HOST_PORT=8080 docker-compose up -d

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸŒ ä¸¤ç§è®¿é—®æ–¹å¼

### æ–¹å¼ä¸€ï¼šç›´æ¥URLè®¿é—®

å¯åŠ¨æˆåŠŸåï¼Œé€šè¿‡ä»¥ä¸‹URLè®¿é—®ç³»ç»Ÿï¼š

- **æœ¬åœ°è®¿é—®**: http://127.0.0.1:5000
- **ç½‘ç»œè®¿é—®**: http://YOUR_IP:5000

### æ–¹å¼äºŒï¼šAPIæ¥å£è·³è½¬è®¿é—®

â­ **é‡ç‚¹åŠŸèƒ½ï¼šç»„è£…æ¥å£è¿æ¥è·³è½¬è®¿é—®**

è¿™ç§æ–¹å¼å…è®¸ç”¨æˆ·ç›´æ¥é€šè¿‡URLä¼ é€’åŸæ–‡å’Œä¿®æ”¹å†…å®¹ï¼Œå®ç°ä¸€é”®æ‰¹é‡å¤„ç†ï¼š

#### ä¸€é”®å¤„ç†API

```http
POST /api/process_document
Content-Type: multipart/form-data

# è¡¨å•æ•°æ®åŒ…å«ï¼š
- document: [æ–‡ä»¶]
- modifications: [JSONå­—ç¬¦ä¸²]
```

#### JavaScriptè°ƒç”¨ç¤ºä¾‹

```javascript
// å‡†å¤‡ä¿®æ”¹æ•°æ®
const modifications = [
    {
        original_text: "åŸå§‹æ–‡æœ¬",
        new_text: "ä¿®æ”¹åæ–‡æœ¬",
        reason: "ä¿®æ”¹åŸå› "
    }
];

// åˆ›å»ºè¡¨å•æ•°æ®  
const formData = new FormData();
formData.append('document', fileInput.files[0]);
formData.append('modifications', JSON.stringify(modifications));

// å‘é€è¯·æ±‚
fetch('/api/process_document', {
    method: 'POST',
    body: formData
})
.then(response => response.json())
.then(data => {
    if (data.success) {
        // ç›´æ¥è·³è½¬ä¸‹è½½
        window.location.href = `/api/download_document/${data.doc_id}`;
    }
});
```

#### Pythonè°ƒç”¨ç¤ºä¾‹

```python
import requests
import json

# å‡†å¤‡æ•°æ®
modifications = [
    {
        "original_text": "AIæŠ€æœ¯åŸºç¡€æ¶æ„",
        "new_text": "AIæŠ€æœ¯åŸºç¡€æ¶æ„2.0",
        "reason": "ç‰ˆæœ¬å‡çº§"
    }
]

# å‘é€è¯·æ±‚
with open('document.docx', 'rb') as f:
    files = {'document': f}
    data = {'modifications': json.dumps(modifications)}
    
    response = requests.post(
        'http://127.0.0.1:5000/api/process_document',
        files=files,
        data=data
    )
    
    if response.json()['success']:
        doc_id = response.json()['doc_id']
        download_url = f'http://127.0.0.1:5000/api/download_document/{doc_id}'
        print(f"ä¸‹è½½é“¾æ¥ï¼š{download_url}")
```

## ğŸ“š å®Œæ•´APIæ–‡æ¡£

### 1. æ–‡æ¡£ä¸Šä¼ 
```http
POST /api/upload_document
Content-Type: multipart/form-data
Body: document=[æ–‡ä»¶]
```

### 2. æ·»åŠ ä¿®æ”¹æ¡ç›®
```http
POST /api/add_modifications
Content-Type: application/json
Body: {
    "doc_id": "æ–‡æ¡£ID",
    "modifications": [
        {
            "original_text": "åŸå§‹æ–‡æœ¬",
            "new_text": "ä¿®æ”¹åæ–‡æœ¬", 
            "reason": "ä¿®æ”¹åŸå› "
        }
    ]
}
```

### 3. ä¸€é”®æ‰¹é‡å¤„ç† (â­æ ¸å¿ƒAPI)
```http  
POST /api/process_document
Content-Type: multipart/form-data
Body: 
    - document=[æ–‡ä»¶]
    - modifications=[JSONä¿®æ”¹æ•°æ®]
```

### 4. ä¸‹è½½å¤„ç†åæ–‡æ¡£
```http
GET /api/download_document/{doc_id}
```

### 5. è·å–æ–‡æ¡£ä¿¡æ¯
```http
GET /api/document_info/{doc_id}
```

## âš™ï¸ ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶è¿›è¡Œè‡ªå®šä¹‰é…ç½®ï¼š

```bash
# åº”ç”¨é…ç½®
HOST=0.0.0.0
PORT=5000
DEBUG=true
SECRET_KEY=your-secret-key-here

# Flaskç¯å¢ƒ
FLASK_ENV=development
FLASK_APP=app.py

# å®‰å…¨é…ç½®
MAX_CONTENT_LENGTH=52428800  # 50MB
```

## ğŸ³ Dockeréƒ¨ç½²

### åŸºç¡€éƒ¨ç½²
```bash
docker-compose up -d
```

### è‡ªå®šä¹‰ç«¯å£éƒ¨ç½²
```bash
HOST_PORT=8080 docker-compose up -d
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export SECRET_KEY=your-production-secret-key
export DEBUG=false
export FLASK_ENV=production

# å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.prod.yml up -d
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Python**: 3.7+ 
- **å†…å­˜**: 512MB+
- **å­˜å‚¨**: 100MB+
- **æ”¯æŒçš„æ“ä½œç³»ç»Ÿ**: Windows, Linux, macOS

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt --no-cache-dir
   ```

2. **ç«¯å£å ç”¨**
   ```bash
   # ä¿®æ”¹ç«¯å£
   export PORT=8080
   python run.py
   ```

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
   - æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡50MBé™åˆ¶
   - ç¡®è®¤æ–‡ä»¶æ ¼å¼ä¸ºDOCX/DOC/TXT

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯  
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [Apache 2.0 è®¸å¯è¯](LICENSE) å¼€æºã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**sawyer-shi**
- GitHub: [@sawyer-shi](https://github.com/sawyer-shi)
- é¡¹ç›®åœ°å€: [document-preview-editor](https://github.com/sawyer-shi/document-preview-editor)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæ­¤é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

## ğŸŒŸ å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/sawyer-shi/document-preview-editor.git

# 2. è¿›å…¥ç›®å½•  
cd document-preview-editor

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. å¯åŠ¨åº”ç”¨
python run.py

# 5. è®¿é—®åº”ç”¨
# æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://127.0.0.1:5000
```

**ç«‹å³å¼€å§‹ä½¿ç”¨æ–‡æ¡£é¢„è§ˆç¼–è¾‘å™¨ï¼Œä½“éªŒå¼ºå¤§çš„æ–‡æ¡£æ‰¹é‡ç¼–è¾‘åŠŸèƒ½ï¼** ğŸš€ 